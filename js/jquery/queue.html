<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>애니메이션</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		// queue() 메서드는 큐에 적용되는 애니메이션 함수를 반환 하거나, 큐에 지정한 함수를 추가한다.
		// queue() 메서드를 실행하면, 실행 이후 모든 애니메이션 취소된다.
		// dequeue() 메서드는 queue() 메서드 실행 이후에 적용된 애니메이션 메서드가 취소되지 않게 연결해준다.
		$(function () {
			$(".txt")
				.animate({ marginLeft: "200px" }, 1000)
				.animate({ marginTop: "200px" }, 1000) // 두 애니메이션 marginLeft, marginTop이 1초에 걸쳐 실행된다.
				.queue(function () { // queue() 메서드를 써서
					$(this).css({ background: "red" }); // 배경색 red를 반환하고,
					$(this).dequeue(); // 애니메이션이 취소 되지 않고, queue() 메서드 이 후에 애니메이션 메서드도 계속 실행된다.

					// dequeue() 메서드를 생략하면, 배경색 red 까지만 실행되고, 뒤쪽 애니메이션은 실행 되지 않는다.
					// dequeue() 메서드가 있어서, queue()가 실행되어도 뒤에 오는 애니메이션이 취소 되지 않고 계속 연결해서 실행된다.

				})
				.animate({ marginLeft: 0 }, 1000)
				.animate({ marginTop: 0 }, 1000); // 두 애니메이션 전부 실행
		});
	</script>
	<style>
		#wrap {
			margin: 0;
		}

		.txt {
			width: 50px;
			text-align: center;
			background-color: aqua;
		}
	</style>
</head>

<body>
	<div class="wrap">
		<p class="txt">내용</p>
	</div>
</body>

</html>